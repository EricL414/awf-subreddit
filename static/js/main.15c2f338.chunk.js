(this["webpackJsonpelin-awf-subreddit"]=this["webpackJsonpelin-awf-subreddit"]||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},31:function(e,t,s){},41:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),r=s(25),n=s.n(r),i=(s(31),s(13)),o=s(14),l=s(16),d=s(15),j=s(8),b=s(2),u=s(22),h=s.n(u),O=s(17),f=s(7),p=(s(11),s(23),s(1));var m=function(e){var t=Object(b.useHistory)();return Object(p.jsx)("div",{className:"favbtn",children:Object(p.jsx)(f.a,{className:" btn-sm  btn-success btn-position",onClick:function(){var s=localStorage.getItem("fav"),c=JSON.parse(s),a=e.post;c.push(a),s=JSON.stringify(c),localStorage.setItem("fav",s),t.push("/awf-subreddit/")},children:"Add to Favorite"})})};var v=function(e){var t,s=e.article.id,c=localStorage.getItem("fav"),a=JSON.parse(c),r=1;return Object.keys(a).forEach((function(e){s===a[e].id&&(r=0)})),t=1===r?Object(p.jsx)(m,{post:e.article}):Object(p.jsx)("div",{className:"favbtn",children:Object(p.jsx)(f.a,{className:"btn-sm btn-success disabled btn-disabled",disabled:!0,children:"Post added to Favorites"})}),Object(p.jsxs)("article",{className:"post",children:[Object(p.jsxs)("h4",{className:"title-align",children:["Score: ",e.article.score," |",Object(p.jsx)("a",{href:"https://www.reddit.com"+e.article.permalink,target:"noreferer",children:e.article.title})]}),t]})};s(24);var x=function(){var e,t=Object(c.useState)([]),s=Object(O.a)(t,2),a=s[0],r=s[1],n=Object(c.useState)(localStorage.getItem("lastSub")),i=Object(O.a)(n,2),o=i[0],l=i[1],d=Object(c.useState)(-1),b=Object(O.a)(d,2),u=b[0],h=b[1];return null===localStorage.getItem("fav")&&localStorage.setItem("fav",JSON.stringify([])),Object(c.useEffect)((function(){fetch("https://www.reddit.com/r/"+o+"/hot.json").then((function(e){if(200!==e.status)return console.log("no such subreddit"),void h(0);e.json().then((function(e){null!=e&&(h(1),localStorage.setItem("lastSub",o),r(e.data.children.slice(0,10)))}))}))}),[o]),e=1===u?Object(p.jsxs)("div",{className:"articles",children:[Object(p.jsx)("h4",{className:"sub-header",children:"Top 10 Hotest Posts"}),null!=a?a.map((function(e,t){return Object(p.jsx)(v,{article:e.data},t)})):""]}):Object(p.jsx)("div",{className:"search-post",children:Object(p.jsx)("h1",{children:" This subreddit does not exist. Try some other words. "})}),Object(p.jsxs)("div",{className:"search-page",children:[Object(p.jsx)("div",{className:"fav-button",children:Object(p.jsx)(j.b,{to:"/awf-subreddit/favorite/",children:Object(p.jsx)(f.a,{children:"Check my Favorites"})})}),Object(p.jsxs)("div",{className:"search-body",children:[Object(p.jsxs)("div",{className:"search-box",children:[Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",className:"search-input",placeholder:"enter a subreddit",onChange:function(e){return l(e.target.value)}}),Object(p.jsxs)("h2",{className:"page-header",children:["Current Searching Subreddit: ",o]})]}),e]})]})};var g=function(e){var t=Object(b.useHistory)();return Object(p.jsx)("div",{className:"favbtn",children:Object(p.jsx)(f.a,{className:"btn-sm btn-warning btn-position",onClick:function(){var s=localStorage.getItem("fav"),c=JSON.parse(s),a=e.index;c.splice(a,1),s=JSON.stringify(c),localStorage.setItem("fav",s),t.push("/awf-subreddit/favorite/")},children:"Remove from Favorite"})})};s(41);var N=function(e){return Object(p.jsxs)("article",{className:"post",children:[Object(p.jsxs)("h4",{className:"title-align",children:["Score: ",e.post.score," | /r/",e.post.subreddit,"/",Object(p.jsx)("a",{href:"https://www.reddit.com"+e.post.permalink,target:"noreferer",children:e.post.title})]}),Object(p.jsx)(g,{index:e.index,post:e.post})]})},S=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=localStorage.getItem("fav"),t=JSON.parse(e),s=0;return Object(p.jsxs)("div",{className:"fav-body",children:[Object(p.jsx)("div",{className:"back-button",children:Object(p.jsx)(j.b,{to:"/awf-subreddit/",children:Object(p.jsx)(f.a,{children:"Back to search page"})})}),Object(p.jsxs)("h2",{className:"page-header",children:[Object(p.jsx)("br",{}),"Your Favorite posts"]}),Object(p.jsx)("div",{className:"favbtn",children:null!=t?t.map((function(e,t){return Object(p.jsx)(N,{index:s++,post:e},t)})):""})]})}}]),s}(a.a.Component),w=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(j.a,{children:Object(p.jsxs)(b.Switch,{children:[Object(p.jsx)(h.a,{path:"/awf-subreddit/",exact:!0,component:x}),Object(p.jsx)(h.a,{path:"/awf-subreddit/favorite/",exact:!0,component:S})]})})})}}]),s}(a.a.Component);n.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)("h2",{children:"Eric Lin (7221476) - AWF Frontend Assignment - SubReddit Posts"}),Object(p.jsx)(w,{})]})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.15c2f338.chunk.js.map