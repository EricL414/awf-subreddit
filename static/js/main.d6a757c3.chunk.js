(this["webpackJsonpelin-awf-subreddit"]=this["webpackJsonpelin-awf-subreddit"]||[]).push([[0],{24:function(e,t,s){},25:function(e,t,s){},32:function(e,t,s){},42:function(e,t,s){},46:function(e,t,s){"use strict";s.r(t);var c=s(0),a=s.n(c),n=s(26),r=s.n(n),i=(s(32),s(10)),o=s(11),l=s(14),d=s(13),j=s(12),b=s(2),h=s(23),u=s.n(h),O=s(18),f=s(17),p=s(7),m=(s(15),s(24),s(1)),v=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var c;return Object(i.a)(this,s),(c=t.call(this,e)).storePost=c.storePost.bind(Object(f.a)(c)),c}return Object(o.a)(s,[{key:"storePost",value:function(){var e=localStorage.getItem("fav"),t=JSON.parse(e),s=this.props.post;t.push(s),e=JSON.stringify(t),localStorage.setItem("fav",e),window.location.reload()}},{key:"render",value:function(){return Object(m.jsx)("div",{className:"favbtn",children:Object(m.jsx)(p.a,{className:" btn-sm  btn-success btn-position",onClick:this.storePost,children:"Add to Favorite"})})}}]),s}(a.a.Component);var x=function(e){var t,s=e.article.id,c=localStorage.getItem("fav"),a=JSON.parse(c),n=1;return Object.keys(a).forEach((function(e){s===a[e].id&&(n=0)})),t=1===n?Object(m.jsx)(v,{post:e.article}):Object(m.jsx)("div",{className:"favbtn",children:Object(m.jsx)(p.a,{className:"btn-sm btn-success disabled btn-disabled",disabled:!0,children:"Post added to Favorites"})}),Object(m.jsxs)("article",{className:"post",children:[Object(m.jsxs)("h4",{className:"title-align",children:["Score: ",e.article.score," |",Object(m.jsx)("a",{href:"https://www.reddit.com"+e.article.permalink,target:"noreferer",children:e.article.title})]}),t]})};s(25);var g=function(){var e,t=Object(c.useState)([]),s=Object(O.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(localStorage.getItem("lastSub")),i=Object(O.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(-1),b=Object(O.a)(d,2),h=b[0],u=b[1];return null===localStorage.getItem("fav")&&localStorage.setItem("fav",JSON.stringify([])),Object(c.useEffect)((function(){fetch("https://www.reddit.com/r/"+o+"/hot.json").then((function(e){if(200!==e.status)return console.log("no such subreddit"),void u(0);e.json().then((function(e){null!=e&&(u(1),localStorage.setItem("lastSub",o),n(e.data.children.slice(0,10)))}))}))}),[o]),e=1===h?Object(m.jsxs)("div",{className:"articles",children:[Object(m.jsx)("h4",{className:"sub-header",children:"Top 10 Hotest Posts"}),null!=a?a.map((function(e,t){return Object(m.jsx)(x,{article:e.data},t)})):""]}):Object(m.jsx)("div",{className:"search-post",children:Object(m.jsx)("h1",{children:" This subreddit does not exist. Try some other words. "})}),Object(m.jsxs)("div",{className:"search-page",children:[Object(m.jsx)("div",{className:"fav-button",children:Object(m.jsx)(j.b,{to:"/favorite",children:Object(m.jsx)(p.a,{children:"Check my Favorites"})})}),Object(m.jsxs)("div",{className:"search-body",children:[Object(m.jsxs)("div",{className:"search-box",children:[Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"text",className:"search-input",placeholder:"enter a subreddit",onChange:function(e){return l(e.target.value)}}),Object(m.jsxs)("h2",{className:"page-header",children:["Current Searching Subreddit: ",o]})]}),e]})]})};var N=function(e){return Object(m.jsx)("div",{className:"favbtn",children:Object(m.jsx)(p.a,{className:"btn-sm btn-warning btn-position",onClick:function(){var t=localStorage.getItem("fav"),s=JSON.parse(t),c=e.index;s.splice(c,1),t=JSON.stringify(s),localStorage.setItem("fav",t),window.location.reload()},children:"Remove from Favorite"})})};s(42);var S=function(e){return Object(m.jsxs)("article",{className:"post",children:[Object(m.jsxs)("h4",{className:"title-align",children:["Score: ",e.post.score," | /r/",e.post.subreddit,"/",Object(m.jsx)("a",{href:"https://www.reddit.com"+e.post.permalink,target:"noreferer",children:e.post.title})]}),Object(m.jsx)(N,{index:e.index,post:e.post})]})},w=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){var e=localStorage.getItem("fav"),t=JSON.parse(e),s=0;return Object(m.jsxs)("div",{className:"fav-body",children:[Object(m.jsx)("div",{className:"back-button",children:Object(m.jsx)(j.b,{to:"/",children:Object(m.jsx)(p.a,{children:"Back to search page"})})}),Object(m.jsxs)("h2",{className:"page-header",children:[Object(m.jsx)("br",{}),"Your Favorite posts"]}),Object(m.jsx)("div",{className:"favbtn",children:null!=t?t.map((function(e,t){return Object(m.jsx)(S,{index:s++,post:e},t)})):""})]})}}]),s}(a.a.Component),y=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(i.a)(this,s),t.apply(this,arguments)}return Object(o.a)(s,[{key:"render",value:function(){return Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(j.a,{children:Object(m.jsxs)(b.Switch,{children:[Object(m.jsx)(u.a,{path:"/",exact:!0,component:g}),Object(m.jsx)(u.a,{path:"/favorite",exact:!0,component:w})]})})})}}]),s}(a.a.Component);r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)("h2",{children:"Eric Lin (7221476) - AWF Frontend Assignment - SubReddit Posts"}),Object(m.jsx)(y,{})]})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.d6a757c3.chunk.js.map