{"version":3,"sources":["components/Buttons/FavoriteButton.js","components/Posts/SearchPost.js","components/Pages/SearchPage.js","components/Buttons/UnfavoriteButton.js","components/Posts/FavPost.js","components/Pages/FavoritePage.js","App.js","index.js"],"names":["FavoriteButton","props","storePost","bind","fav","localStorage","getItem","fav_parsed","JSON","parse","thepost","this","post","push","stringify","setItem","window","location","reload","className","Button","onClick","React","Component","SearchPost","switchBtn","postId","article","id","returnState","Object","keys","forEach","key","disabled","score","href","permalink","target","title","SearchPage","postReturn","useState","articles","setArticles","subreddit","setSubreddit","srexistence","setSrexistence","useEffect","fetch","then","res","status","console","log","json","data","children","slice","map","index","to","type","placeholder","onChange","event","value","UnfavoriteButton","postIndex","splice","FavPost","FavoritePage","App","StrictMode","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d6a757c3.chunk.js","sourcesContent":["/*\r\n    FILE:       FavoriteButton.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to set FavoriteButton.\r\n*/\r\nimport React from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./Buttons.css\"\r\n\r\nclass FavoriteButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.storePost = this.storePost.bind(this);\r\n\r\n      }\r\n\r\n    //button event handler of \"add to favorite\", store the post into localStorage\r\n    storePost()\r\n    {\r\n        //get the existing favorite json from the localStorage       \r\n        var fav = localStorage.getItem('fav');\r\n        var fav_parsed = JSON.parse(fav);\r\n\r\n        //current post\r\n        var thepost = this.props.post;\r\n        //push into the json\r\n        fav_parsed.push(thepost);\r\n        fav = JSON.stringify(fav_parsed);\r\n        //store again\r\n        localStorage.setItem('fav', fav);\r\n        //refresh the page\r\n         window.location.reload();\r\n\r\n    }\r\n\r\n    render(){    \r\n        return(\r\n            <div className=\"favbtn\">\r\n                <Button className=\" btn-sm  btn-success btn-position\"onClick={this.storePost}>Add to Favorite</Button>\r\n            </div>\r\n\r\n        );        \r\n    }\r\n\r\n}\r\n\r\n\r\nexport default FavoriteButton;","/*\r\n    FILE:       SearchPost.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to set each top10 hotest post content in the home(Search) page by using the data from SearchPage.js\r\n*/\r\nimport React from 'react';\r\nimport FavoriteButton from '../Buttons/FavoriteButton';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\n\r\nfunction SearchPost(props){\r\n\r\n    var switchBtn;\r\n    const postId = props.article.id;\r\n    var fav = localStorage.getItem('fav');\r\n    var fav_parsed = JSON.parse(fav);\r\n    var returnState=1;\r\n\r\n    //check each post in the favorite json\r\n    Object.keys(fav_parsed).forEach(function(key) {\r\n        //compare if any post in the list has already been added to the favorite localstorage\r\n        if(postId===fav_parsed[key].id)\r\n        {\r\n            //conditionally render content flag\r\n            returnState=0;\r\n        }\r\n      });\r\n    \r\n    //if the post is not exsting in the favorite json\r\n    if(returnState === 1)\r\n    {\r\n        //display the add to favorite button\r\n        switchBtn = (\r\n            <FavoriteButton post={props.article} />\r\n        );\r\n     \r\n    }\r\n    //if the post is in the favorite json\r\n    else\r\n    {\r\n        //display the post already added disabled button\r\n        switchBtn = (\r\n            <div className=\"favbtn\">\r\n                <Button className=\"btn-sm btn-success disabled btn-disabled\" disabled = {true}>Post added to Favorites</Button>\r\n            </div>\r\n        );\r\n                \r\n    }\r\n\r\n    return(\r\n        <article className=\"post\">\r\n            <h4 className=\"title-align\">\r\n             Score: {props.article.score} | \r\n            <a href={\"https://www.reddit.com\" +  props.article.permalink}  target=\"noreferer\">      \r\n             {props.article.title}\r\n            </a>   \r\n            </h4>     \r\n            {switchBtn}\r\n        </article>\r\n    )\r\n}\r\n   \r\n\r\nexport default SearchPost;","/*\r\n    FILE:       SearchPage.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to get the subreddit API json data based on user input and display top 10 hotest post in that subreddit.\r\n*/\r\nimport React, {useState, useEffect} from 'react';\r\nimport Post from '../Posts/SearchPost';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./Pages.css\"\r\n\r\nfunction SearchPage() {\r\n    const [articles, setArticles] = useState([]);\r\n    const [subreddit, setSubreddit] = useState(localStorage.getItem('lastSub'));   \r\n    const [srexistence, setSrexistence] = useState(-1);\r\n\r\n    var fav = [];\r\n    var postReturn;\r\n\r\n    // initialize Web Storage API -> localStorage\r\n    if(localStorage.getItem('fav')===null){\r\n        localStorage.setItem('fav', JSON.stringify(fav));\r\n    }\r\n    \r\n    // useEffect for subreddit input changes\r\n    useEffect(()=>{\r\n        //get subreddit json data through reddit API\r\n        fetch(\"https://www.reddit.com/r/\"+subreddit+\"/hot.json\").then(res=>{\r\n            // no such subreddit\r\n            if(res.status!==200){\r\n            console.log(\"no such subreddit\");\r\n            setSrexistence(0);\r\n            return;\r\n        }\r\n    \r\n        //there is a subreddit\r\n        res.json().then(data=>{\r\n            if(data!=null){\r\n            setSrexistence(1);\r\n            //store the name of current valid subreddit\r\n            localStorage.setItem('lastSub', subreddit);\r\n            //store top 10 hotest posts in that subreddit from API json\r\n            setArticles(data.data.children.slice(0,10));\r\n            }\r\n        })\r\n        });\r\n    }, [subreddit]);\r\n\r\n    //if the subreddit does exist\r\n    if(srexistence === 1)\r\n    {\r\n        postReturn=(\r\n            <div className=\"articles\">\r\n                <h4 className=\"sub-header\">Top 10 Hotest Posts</h4>\r\n                {\r\n                    //pass each post into Post component to show it\r\n                    (articles != null) ? articles.map((article,index)=> <Post key={index} article={article.data} />) : ''\r\n                }\r\n            </div>  \r\n        ) ;                                                                                                                                  \r\n    \r\n    }\r\n    //if the subreddit does not exist\r\n    else\r\n    {\r\n        postReturn=(\r\n            <div className=\"search-post\">\r\n                <h1> This subreddit does not exist. Try some other words. </h1>\r\n            </div> );\r\n            \r\n    }\r\n\r\n    return (\r\n        <div className=\"search-page\">\r\n            <div className=\"fav-button\">\r\n                <Link  to={\"/favorite\"}><Button>Check my Favorites</Button></Link>\r\n            </div>\r\n            <div className=\"search-body\">\r\n                <div className=\"search-box\">\r\n                    <br/>\r\n                    <input type=\"text\" className=\"search-input\" placeholder=\"enter a subreddit\" onChange={event => setSubreddit(event.target.value)} />\r\n                    <h2 className=\"page-header\">Current Searching Subreddit: {subreddit}</h2>                   \r\n                </div>\r\n                {/* conditionally section */}\r\n                {postReturn}\r\n            </div>\r\n        </div>                                                                                                                                      \r\n    );\r\n    \r\n}\r\n\r\nexport default SearchPage;\r\n","/*\r\n    FILE:       UnfavoriteButton.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to set UnfavoriteButton.\r\n*/\r\nimport React from 'react';\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./Buttons.css\"\r\n\r\nfunction UnfavoriteButton (props) {\r\n\r\n    //button event handler of \"Remove from favorite\", remove the post from localStorage\r\n    function removePost()\r\n    {\r\n        //get favorite json from localStorage\r\n        var fav = localStorage.getItem('fav');\r\n        var fav_parsed = JSON.parse(fav);\r\n        var postIndex = props.index;\r\n        //delete the post\r\n        fav_parsed.splice(postIndex,1);\r\n        //store to localStorage again\r\n        fav = JSON.stringify(fav_parsed);\r\n        localStorage.setItem('fav', fav);\r\n        //refresh the page\r\n        window.location.reload();\r\n\r\n    }\r\n    \r\n    return(\r\n        <div className=\"favbtn\">\r\n            <Button className=\"btn-sm btn-warning btn-position\" onClick={removePost}>Remove from Favorite</Button>\r\n        </div>\r\n    );\r\n\r\n    \r\n}\r\n\r\n\r\nexport default UnfavoriteButton;","/*\r\n    FILE:       FavPost.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to set each favorite post content in Favorite page by using the data from FavoritePage.js\r\n*/\r\nimport React from 'react';\r\nimport UnfavoriteButton from \"../Buttons/UnfavoriteButton\";\r\nimport \"./Post.css\"\r\n\r\nfunction FavPost(props){\r\n    \r\n   return(\r\n       <article className=\"post\">\r\n           <h4 className=\"title-align\">\r\n                Score: {props.post.score} | /r/{props.post.subreddit}/<a href={\"https://www.reddit.com\" +  props.post.permalink}  target=\"noreferer\">      \r\n               {props.post.title}  \r\n           </a> \r\n           </h4>\r\n           <UnfavoriteButton index={props.index} post={props.post}/>\r\n           \r\n       </article>\r\n   )\r\n}\r\n\r\nexport default FavPost;","/*\r\n    FILE:       FavoritePage.js\r\n    PROJECT:    AWF-FrontendAssignment-Subreddit\r\n    PROGRAMMER: Eric Lin 7221476\r\n    DATE:       March 14th, 2021\r\n    DESCRIPTION:This file contains the codes to display all posts in the favorite json in localStorage.\r\n*/\r\nimport React from 'react';\r\nimport FavPost from \"../Posts/FavPost\";\r\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport \"./Pages.css\"\r\n\r\nclass FavoritePage extends React.Component {\r\n\r\n    render(){\r\n        var fav = localStorage.getItem('fav');\r\n        const fav_parsed = JSON.parse(fav);\r\n        //post position index in favorite json\r\n        let index = 0;\r\n        return(\r\n            <div className=\"fav-body\">\r\n                \r\n                <div className=\"back-button\">\r\n                    <Link  to={\"/\"}><Button>Back to search page</Button></Link>               \r\n                </div>\r\n                <h2 className=\"page-header\">\r\n                    <br/>\r\n                    Your Favorite posts\r\n                </h2>\r\n                <div className=\"favbtn\">                    \r\n                    { (fav_parsed != null) ? fav_parsed.map((post, key)=> <FavPost key={key} index={index++} post={post} />) : \"\" }\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n        \r\n    }\r\n\r\n        \r\n}\r\n\r\n\r\nexport default FavoritePage;","/*\n    FILE:       App.js\n    PROJECT:    AWF-FrontendAssignment-Subreddit\n    PROGRAMMER: Eric Lin 7221476\n    DATE:       March 14th, 2021\n    DESCRIPTION:This is the app file of this react project, which contains the Routes to other pages.\n*/\n\nimport React from 'react';\nimport { BrowserRouter as Router, Switch} from 'react-router-dom';\nimport Route from 'react-router-dom/Route';\nimport SearchPage from \"./components/Pages/SearchPage\";\nimport FavoritePage from \"./components/Pages/FavoritePage\";\n\n\nclass App extends React.Component {\n  render(){\n      return(\n          <React.StrictMode>\n\n              <Router>\n                  <Switch>\n                      {/* Main page */}\n                      <Route path=\"/\" exact component={SearchPage} />    \n                      {/* Favorite Page */}\n                      <Route path=\"/favorite\" exact component={FavoritePage} />\n\n                  </Switch>  \n\n              </Router>  \n          </React.StrictMode>\n      );\n  }\n\n\n\n}\n\nexport default App;\n","/*\n    FILE:       index.js\n    PROJECT:    AWF-FrontendAssignment-Subreddit\n    PROGRAMMER: Eric Lin 7221476\n    DATE:       March 14th, 2021\n    DESCRIPTION:This is the index JavaScript file of this react project, which the React render codes.\n*/\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n  <div className=\"app\">\n    <h2>Eric Lin (7221476) - AWF Frontend Assignment - SubReddit Posts</h2>\n    <App />\n  </div>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}